<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>reCAPTCHA v2 テスト</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .error {
      color: red;
      margin-top: 5px;
      height: 1em;
    }
  </style>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <h2>reCAPTCHA v2 チェックボックステスト</h2>

  <form id="test-form">
    <label for="email">メールアドレス:</label><br />
    <input type="email" id="email" name="email" required /><br /><br />

    <div class="g-recaptcha" data-sitekey="6Lf1UHsrAAAAAMr_V4R-qAy_AAFPMh71nEcKYdBi"></div>
    <div id="recaptcha-error" class="error"></div>

    <br />
    <button type="submit">送信</button>
  </form>

  <script>
    const form = document.getElementById('test-form');
    const recaptchaError = document.getElementById('recaptcha-error');

    form.addEventListener('submit', function(event) {
      event.preventDefault();
      recaptchaError.textContent = '';

      const recaptchaResponse = grecaptcha.getResponse();
      if (!recaptchaResponse) {
        recaptchaError.textContent = 'reCAPTCHAをチェックしてください。';
        return;
      }

      alert('reCAPTCHAクリア！フォームを送信します（ここは連携後に置き換え）');
      // ここにFirebase連携や送信処理を追加してください
    });
  </script>
</body>
</html>
